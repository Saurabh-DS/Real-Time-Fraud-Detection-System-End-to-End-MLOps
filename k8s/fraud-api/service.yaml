# Fraud Detection API - Kubernetes Service
# =========================================
# Service for internal communication and external access.


apiVersion: v1
kind: Service
metadata:
  name: fraud-api
  namespace: fraud-detection
  labels:
    app: fraud-api
    app.kubernetes.io/name: fraud-api
    app.kubernetes.io/component: serving
spec:
  type: NodePort
  selector:
    app: fraud-api
  ports:
    - name: http
      port: 8000
      targetPort: 8000
      nodePort: 30000
      protocol: TCP
---
# Shadow Service for A/B testing
apiVersion: v1
kind: Service
metadata:
  name: fraud-api-shadow
  namespace: fraud-detection
  labels:
    app: fraud-api-shadow
spec:
  type: ClusterIP
  selector:
    app: fraud-api
    version: v2
  ports:
    - name: http
      port: 8000
      targetPort: 8000
      protocol: TCP
